plugins {
	id "fabric-loom" version "0.7-SNAPSHOT"
	id "org.cadixdev.licenser" version "0.6.1"
}

apply plugin: "java"

sourceCompatibility = 16
targetCompatibility = 16

sourceSets {
	testmod
}

dependencies {
	minecraft "com.mojang:minecraft:1.17"
	mappings "net.fabricmc:yarn:1.17+build.11:v2"
	modImplementation "net.fabricmc:fabric-loader:0.11.3"
	testmodImplementation sourceSets.main.output
	testmodCompileOnly sourceSets.main.compileClasspath
	testmodRuntimeOnly sourceSets.main.runtimeClasspath
	modRuntime("net.fabricmc.fabric-api:fabric-api:0.34.9+1.17") {
		exclude module: "fabric-loader"
	}
}

version = "1.0.0"
archivesBaseName = "Tensor"
group = "malek"

license {
	include '**/*.java'
}

processResources {
	filesMatching("fabric.mod.json") {
		expand "version": project.version
	}

	inputs.property "version", project.version
}

tasks.withType(JavaCompile).configureEach {
	it.options.encoding = "UTF-8"
	it.options.release = 16
}

java {
	withSourcesJar()
}

jar {
	from("LICENSE") {
		rename { "${it}_${project.archivesBaseName}"}
	}
}

artifacts {
	archives jar
}
